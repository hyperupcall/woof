# shellcheck shell=bash

main() {
	local command="$1"

	if [ -z "$command" ]; then
		show_help
	fi

	case $command in
	validate)
		# validate
		for file_name in InputNodejs InputZig; do
			ajv validate -s "./validators/$file_name.schema.json" -d "./validators/$file_name.example.json"
		done
		;;
	convert)
		deno run --allow-env --allow-net --allow-read --allow-write ./main.ts
		;;
	*)
		show_help
		;;
	esac
}

show_help() {
	printf '%s\n' "./knowledge <validate|convert>"
	return 1
}

main "$@"